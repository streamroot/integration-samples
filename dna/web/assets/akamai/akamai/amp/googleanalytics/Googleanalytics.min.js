!function(e){"use strict";var t=function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return ga("create",n.config.trackingId,"auto"),ga("send","pageview"),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"generateGoogleAnalyticsVO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video";if(null!=e){var a=this.config.events[t];if(null!=a){var n=a.filter(function(t){return null!=t&&t.type==e})[0];if(null!=n){var i=n.data||n.detail;if(null!=i){var r={trackingid:this.config.trackingId};for(var s in i){var o=this.player.evaluateBindings(i[s]);if("customDimension"===s){var l=new Object;for(var d in o){var u=o[d];"viewDuration"===u&&(u=this.viewDuration),ga("set",d,u),l[d]=u}o=l}r[s.toLowerCase()]=o}return r}}}}}},{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video",a=this.generateGoogleAnalyticsVO(e,t);if(null!=a&&(ga("send","event",a.eventcategory,a.eventaction,a.eventlabel,a.eventvalue),null!=a.customdimension))for(var n in a.customdimension)ga("set",n,null)}},{key:"onready",value:function(){this.bindHandlers(["onadstarted","onadended"]),this.player.addEventListener("adstarted",this.onadstarted),this.player.addEventListener("adended",this.onadended)}},{key:"onstarted",value:function(){this.started=!0,this.currentTime=0,this.viewDuration=0,this.trackEvent("started")}},{key:"onmediachange",value:function(){this.onended()}},{key:"onended",value:function(){this.started!==!1&&(this.started=!1,this.trackEvent("ended"))}},{key:"ontimeupdate",value:function(e){var t=Math.round(e.detail);t>this.currentTime&&(this.viewDuration++,this.currentTime=t)}},{key:"onadstarted",value:function(e){this.trackEvent("started","ads")}},{key:"onadended",value:function(e){this.trackEvent("ended","ads")}}]),t}(akamai.amp.Plugin);akamai.amp.AMP.registerPlugin("googleanalytics",akamai.amp.Plugin.createFactory(t)),e.GoogleAnalytics=t}(this.akamai.amp.googleanalytics=this.akamai.amp.googleanalytics||{});
//# sourceMappingURL=Googleanalytics.min.js.map